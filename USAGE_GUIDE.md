# AI自動ブログ投稿CMS - 使い方ガイド

## 🚀 クイックスタート (5分で始める)

### ステップ1: アクセス

開発環境URL: https://3000-ieespo9mst740vnh5irb2-5c13a017.sandbox.novita.ai

### ステップ2: アカウント登録

1. 「新規登録はこちら」をクリック
2. 以下を入力:
   - 名前: `太郎`
   - メールアドレス: `taro@example.com`
   - パスワード: `password123` (8文字以上)
3. 「新規登録」ボタンをクリック

### ステップ3: プロジェクト作成

1. ダッシュボードの「新規プロジェクト作成」をクリック
2. モーダルで入力:
   - プロジェクト名: `テックブログ`
   - 説明: `AIとテクノロジー関連のブログ`
   - ドメイン: `tech-blog.example.com`
   - 公開方法: `内部CMS`
3. 「作成」ボタンをクリック

### ステップ4: キーワード登録

1. サイドバーから「キーワード」を選択
2. 「キーワード追加」ボタンをクリック
3. モーダルで入力:
   - キーワード: `AI ブログ 自動化`
   - 検索意図: `情報収集型 - AIでブログ運営を効率化したい人`
4. 「追加」ボタンをクリック

### ステップ5: AI記事生成

#### 5-1. 構成生成

1. サイドバーから「AI記事生成」を選択
2. 「構成生成」セクションで:
   - キーワード: `AI ブログ 自動化`
   - 文字数目安: `3000`
   - トーン: `プロフェッショナル`
3. 「構成を生成」ボタンをクリック
4. 生成完了まで **約10秒** 待つ

#### 5-2. 本文生成

1. 「本文生成欄にコピー」ボタンをクリック
2. 「本文を生成」ボタンをクリック
3. 生成完了まで **約30秒** 待つ
4. 「記事として保存」ボタンをクリック

### ステップ6: 記事確認

1. サイドバーから「記事管理」を選択
2. 保存した記事が一覧に表示される
3. 目のアイコンをクリックして詳細表示
4. 記事の内容を確認

---

## 📖 詳細な機能ガイド

### 🔐 認証機能

#### ログイン
- メールアドレスとパスワードでログイン
- JWT トークンが発行され、7日間有効
- トークンはローカルストレージに保存

#### ログアウト
- サイドバー下部の「ログアウト」をクリック
- トークンがクリアされ、ログイン画面に戻る

---

### 📁 プロジェクト管理

#### プロジェクト作成

**場所**: ダッシュボード または プロジェクト画面

**手順**:
1. 「新規作成」ボタンをクリック
2. モーダルで入力:
   - **プロジェクト名** (必須): サイト・メディアの名前
   - **説明**: プロジェクトの概要
   - **ドメイン**: ブログのドメイン名
   - **公開方法**: 
     - `内部CMS`: このCMSで公開
     - `WordPress`: WordPress REST API経由で投稿
     - `手動コピー`: 記事をコピーして手動投稿
3. 「作成」ボタンをクリック

**Tips**:
- 1ユーザーで複数のプロジェクトを管理可能
- プロジェクトごとに独立した記事・キーワード・プロンプトを持つ

#### プロジェクト一覧

**場所**: サイドバー「プロジェクト」

**表示内容**:
- プロジェクト名と説明
- ドメイン情報
- 作成日

**操作**:
- 矢印アイコン: プロジェクトを選択して記事管理へ移動

---

### 🔑 キーワード管理

#### キーワード追加

**前提条件**: プロジェクトが作成済み

**手順**:
1. サイドバーから「キーワード」を選択
2. 「キーワード追加」ボタンをクリック
3. モーダルで入力:
   - **キーワード** (必須): SEO対策のキーワード
   - **検索意図**: 情報収集型 / 比較検討型 / ノウハウ型 など
   - **メモ**: キーワードに関するメモ
4. 「追加」ボタンをクリック

**キーワード例**:
```
キーワード: AI ブログ 自動化
検索意図: 情報収集型 - AIでブログ運営を効率化したい人
メモ: MVP開発のテストキーワード
```

#### キーワード一覧

**表示内容**:
- キーワード
- 検索意図
- 作成日
- 操作ボタン (削除)

**操作**:
- ゴミ箱アイコン: キーワードを削除

---

### ✍️ 記事管理

#### 記事作成 (手動)

**手順**:
1. サイドバーから「記事管理」を選択
2. 「記事作成」ボタンをクリック
3. モーダルで入力:
   - **タイトル** (必須): 記事のタイトル
   - **スラッグ**: URL用の文字列 (例: `ai-blog-automation`)
   - **本文**: Markdown形式で記事を執筆
   - **メタディスクリプション**: 検索結果に表示される概要 (120文字以内推奨)
   - **ステータス**: 
     - `下書き`: 編集中の記事
     - `レビュー中`: レビュー待ちの記事
     - `予約投稿`: 公開予約済みの記事
     - `公開済み`: 公開中の記事
4. 「作成」ボタンをクリック

#### 記事一覧

**表示内容**:
- 記事タイトル
- ステータス (カラー表示)
- 作成日

**操作**:
- 目のアイコン: 記事詳細を表示
- ゴミ箱アイコン: 記事を削除

#### 記事詳細表示

**表示内容**:
- タイトル
- ステータス
- スラッグ
- 作成日
- メタディスクリプション
- 本文 (Markdown形式)

**操作**:
- 「編集」ボタン: (将来実装予定)
- 「閉じる」ボタン: モーダルを閉じる

---

### 🤖 AI記事生成

#### 構成生成

**目的**: キーワードから記事の構成(見出し構造)を自動生成

**手順**:
1. サイドバーから「AI記事生成」を選択
2. 「構成生成」セクションで入力:
   - **キーワード**: SEOキーワード (例: `AI ブログ 自動化`)
   - **文字数目安**: 記事の目標文字数 (デフォルト: 3000文字)
   - **トーン**: 
     - `プロフェッショナル`: ビジネス・専門的な内容
     - `カジュアル`: 親しみやすい・軽い内容
     - `フレンドリー`: 友達に話すような内容
3. 「構成を生成」ボタンをクリック
4. **約10秒** で構成が生成される

**生成結果**:
```json
{
  "title": "AIでブログを自動化する方法 - 2024年最新ガイド",
  "meta_description": "AIを活用してブログ運営を効率化する方法を解説。記事生成から投稿まで自動化できるツールを紹介します。",
  "outline": [
    {"level": "h2", "text": "AIブログ自動化とは"},
    {"level": "h3", "text": "AIブログ自動化のメリット"},
    {"level": "h2", "text": "AIブログ自動化ツールの選び方"},
    ...
  ]
}
```

**Tips**:
- 構成は編集可能
- 「本文生成欄にコピー」で次のステップへ

#### 本文生成

**目的**: 構成を元に詳細な記事本文を自動生成

**手順**:
1. 構成生成後、「本文生成欄にコピー」ボタンをクリック
2. 「本文生成」セクションで:
   - **キーワード**: 自動入力される
   - **構成**: JSON形式の構成 (編集可能)
3. 「本文を生成」ボタンをクリック
4. **約30秒** で本文が生成される

**生成結果**:
- Markdown形式の記事本文
- 見出し構造に沿った詳細な内容
- SEOを意識した自然な文章

**操作**:
- 「記事として保存」: 記事管理に保存
- 「クリップボードにコピー」: 本文をコピー

#### AI生成のパラメータ調整

**文字数目安**:
- 1000文字: 短めの記事 (ニュース・お知らせ)
- 3000文字: 標準的な記事 (解説・ハウツー)
- 5000文字: 詳細な記事 (総合ガイド)

**トーン別の使い分け**:
- **プロフェッショナル**: 企業ブログ、技術記事、学術コンテンツ
- **カジュアル**: ライフスタイル、エンタメ、トレンド記事
- **フレンドリー**: 個人ブログ、体験談、初心者向けガイド

---

### 📊 ダッシュボード

**表示内容**:
- プロジェクト数
- 総記事数
- キーワード数
- クイックアクション

**クイックアクション**:
- 新規プロジェクト作成
- AI記事生成

---

## 🎯 よくある使い方パターン

### パターン1: ゼロから記事を量産

1. プロジェクト作成
2. キーワード10個を登録
3. 各キーワードでAI記事生成
4. 生成された記事を編集
5. 順次公開

**所要時間**: 1キーワードあたり約1分

### パターン2: 既存記事の改善

1. 既存記事を記事管理に手動登録
2. 関連キーワードを追加登録
3. 新しいキーワードでAI記事生成
4. 内部リンクを追加 (将来機能)
5. 記事を更新公開

### パターン3: 複数サイトの運用

1. サイトごとにプロジェクトを作成
2. サイトごとにキーワード戦略を設定
3. サイトごとに独自のプロンプトを設定
4. 効率的に記事を量産
5. 各サイトに投稿 (手動コピーまたはWordPress連携)

---

## ⚙️ 設定とカスタマイズ

### OpenAI APIキーの設定

**重要**: AI記事生成機能を使うには、OpenAI APIキーが必要です。

**設定方法**:
1. `.dev.vars` ファイルを編集:
   ```bash
   cd /home/user/webapp
   nano .dev.vars
   ```
2. `OPENAI_API_KEY` を実際のキーに置き換え:
   ```
   OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxx
   ```
3. サーバーを再起動:
   ```bash
   pm2 restart ai-blog-cms
   ```

### プロンプトのカスタマイズ

現在、プロンプトはデータベースに保存されており、将来的には管理画面から編集可能になります。

**現在の編集方法**:
```bash
npx wrangler d1 execute ai-blog-cms-db --local --command="
UPDATE prompts 
SET body = 'カスタムプロンプト内容...' 
WHERE type = 'outline' AND project_id = 1
"
```

---

## 🆘 トラブルシューティング

### AI記事生成が失敗する

**原因**: OpenAI APIキーが未設定または無効

**解決方法**:
1. `.dev.vars` ファイルを確認
2. APIキーが正しいか確認
3. OpenAIアカウントに残高があるか確認
4. サーバーを再起動: `pm2 restart ai-blog-cms`

### プロジェクトが選択できない

**原因**: プロジェクトが未作成

**解決方法**:
1. ダッシュボードまたはプロジェクト画面へ移動
2. 「新規作成」ボタンでプロジェクトを作成

### モーダルが閉じない

**解決方法**:
- ページをリロード (F5)
- または背景の暗い部分をクリック

### 記事が表示されない

**原因**: プロジェクトが選択されていない

**解決方法**:
1. プロジェクト一覧から任意のプロジェクトを選択
2. 記事管理画面へ移動

---

## 💡 Tips & ベストプラクティス

### キーワード選定のコツ

1. **ロングテールキーワード**: 3-4語の複合キーワードを狙う
2. **検索意図を明確化**: 情報収集型 / 比較検討型 / 購入型 を区別
3. **競合調査**: Googleで検索して上位記事を確認

### AI記事生成のコツ

1. **構成の確認**: 生成された構成を編集してから本文生成
2. **文字数調整**: 目標文字数の80-120%で生成される
3. **トーンの一貫性**: サイト全体で統一したトーンを使用
4. **人間の編集**: AI生成後に必ず人間が編集・確認

### 記事管理のコツ

1. **ステータス管理**: 下書き → レビュー → 公開 の流れを徹底
2. **メタディスクリプション**: 必ず120文字以内で設定
3. **スラッグ**: 英数字とハイフンのみ (例: `ai-blog-automation`)
4. **定期更新**: 古い記事は定期的に更新してSEO効果を維持

---

## 📞 サポート

ご質問やご要望があれば、お気軽にお知らせください!

**ドキュメント**:
- README.md - 技術仕様と開発情報
- USAGE_GUIDE.md (このファイル) - 使い方ガイド

**開発環境**:
- URL: https://3000-ieespo9mst740vnh5irb2-5c13a017.sandbox.novita.ai
- GitHub: (設定予定)

---

最終更新: 2025-11-22
バージョン: v1.0
